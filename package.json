{
  "name": "branch-change-tabs",
  "displayName": "Branch Change Tabs",
  "description": "Opens modified/newly-tracked files upon switching git branches.",
  "version": "0.0.2",
  "publisher": "carlxwdev",
  "license": "All rights reserved.",
  "icon": "img/icon.png",
  "repository": {
    "type": "git",
    "url": "https://github.com/carlxw/vscode-branch-change-tabs"
  },
  "engines": {
    "vscode": "^1.85.0"
  },
  "categories": [
    "Other"
  ],
  "activationEvents": [
    "onStartupFinished",
    "workspaceContains:.git"
  ],
  "extensionDependencies": [
    "vscode.git"
  ],
  "main": "./build/main.js",
  "scripts": {
    "build": "tsc -p .",
    "watch": "tsc -watch -p .",
    "lint": "echo \"No lint configured\"",
    "package": "vsce package"
  },

  "contributes": {
    "views": {
      "explorer": [
        {
          "id": "branchTabs.changedFiles",
          "name": "Branch Modified/Tracked Files"
        }
      ]
    },
    "commands": [
      {
        "command": "branchTabs.openChangedFiles",
        "title": "Branch Change Tabs: Open Changed Files"
      },
      {
        "command": "branchTabs.closePinnedTabsInGroup",
        "title": "Branch Change Tabs: Close Pinned Tabs in Currently Active Group"
      }
    ],
    "configuration": {
      "title": "Branch Change Tabs",
      "properties": {
        "branchTabs.excludedBranches": {
          "type": "array",
          "default": [],
          "description": "Checking out to these branches will not trigger this extension.",
          "items": {
            "type": "string"
          }
        },
        "branchTabs.closeAllBeforeOpen": {
          "type": "boolean",
          "default": true,
          "description": "Close all open editors before opening changed files."
        },
        "branchTabs.includeModifiedFiles": {
          "type": "boolean",
          "default": true,
          "description": "Open files that are modified relative to the main branch."
        },
        "branchTabs.includeNewlyTrackedFiles": {
          "type": "boolean",
          "default": true,
          "description": "Open files that are newly tracked relative to the main branch."
        },
        "branchTabs.pinModifiedFiles": {
          "type": "boolean",
          "default": true,
          "description": "Pin modified files when opening. Otherwise, just open the files."
        },
        "branchTabs.pinNewlyTrackedFiles": {
          "type": "boolean",
          "default": true,
          "description": "Pin newly added files when opening. Otherwise, just open the files."
        },
        "branchTabs.excludedFiles": {
          "type": "array",
          "default": [
            "\\.png$",
            "\\.jpe?g$",
            "\\.svg$",
            "\\.gif$",
            "\\.pdf$",
            "\\.zip$",
            "\\.tar$",
            "\\.gz$",
            "\\.7z$",
            "\\.exe$",
            "\\.dmg$",
            "\\.iso$",
            "\\.jar$",
            "^\\.gitignore$",
            "^\\.gitattributes$"
          ],
          "description": "List of regex strings (i.e., file name, file extension) to be ignored by this extension. Files ignored by .gitignore are already excluded.",
          "items": {
            "type": "string"
          }
        },
        "branchTabs.maxFilesToOpen": {
          "type": "number",
          "default": 10,
          "description": "This extension will open this many files upon a branch change."
        },
        "branchTabs.textFilesOnly": {
          "type": "boolean",
          "default": true,
          "description": "Only open text files (skip binary/image files)."
        },
        "branchTabs.excludedDirectories": {
          "type": "array",
          "default": [
            "^dist/",
            "^build/",
            "^out/",
            "^coverage/",
            "^node_modules/",
            "^\\.turbo/",
            "^\\.next/"
          ],
          "description": "List of regex strings (directory URIs) to be ignored by this extension.",
          "items": {
            "type": "string"
          }
        },
        "branchTabs.closePinnedTabsOnBranchChange": {
          "type": "boolean",
          "default": false,
          "description": "Close pinned tabs that were opened by this extension when switching branches."
        },
        "branchTabs.closeAllOnExcludedBranch": {
          "type": "boolean",
          "default": true,
          "description": "Close tabs that were opened by the extension when switching to an ignored branch."
        },
        "branchTabs.promptOnNewRepository": {
          "type": "boolean",
          "default": true,
          "description": "Prompt to enable or disable the extension when a new repository is opened."
        },
        "branchTabs.disabledRepositories": {
          "type": "array",
          "default": [],
          "description": "List of repository root paths where the extension is disabled.",
          "items": {
            "type": "string"
          }
        },
        "branchTabs.baseBranch": {
          "type": "string",
          "default": "main",
          "description": "Optional base branch/ref to diff against."
        }
      }
    }
  },

  "devDependencies": {
    "@types/node": "^20.11.30",
    "@types/vscode": "^1.85.0",
    "typescript": "^5.3.3"
  }
}
